@using FeatureDemandPlanning.BusinessObjects
@model FeatureDemandPlanning.Models.ImportViewModel

@{
    var currentVersion = SharedModelBase.CurrentVersion;
}

<script src="@Url.Content("~/Scripts/Shared/namespace.js")?v=@currentVersion"></script>
<script src="@Url.Content("~/Scripts/Shared/contextmenu.js")?v=@currentVersion"></script>
<script src="@Url.Content("~/Scripts/Shared/modal.js")?v=@currentVersion"></script>
<script src="@Url.Content("~/Scripts/Import/exceptions.js")?v=@currentVersion"></script>
<script src="@Url.Content("~/Scripts/Import/exceptionspage.js")?v=@currentVersion"></script>
<script src="@Url.Content("~/Scripts/Import/market.js")?v=@currentVersion"></script>
<script src="@Url.Content("~/Scripts/Import/feature.js")?v=@currentVersion"></script>
<script src="@Url.Content("~/Scripts/Import/derivative.js")?v=@currentVersion"></script>
<script src="@Url.Content("~/Scripts/Import/trim.js")?v=@currentVersion"></script>

<script type="text/javascript">

    var exceptions, page, modal, market, feature, derivative, trim;
    var params = {
        ActionsUri: "@Url.Action("ImportExceptionActionContextMenu")",
        ExceptionsUri: "@Url.Action("ListImportExceptions")",
        ModalContentUri: "@Url.Action("ModalContent")",
        //AddFeatureContentUri: "@Url.Action("AddFeatureContent")",
        AddFeatureActionUri: "@Url.Action("AddFeatureAction")",
        //AddSpecialFeatureContentUri: "@Url.Action("AddSpecialFeatureContent")",
        AddSpecialFeatureActionUri: "@Url.Action("AddSpecialFeatureAction")",
        //MapFeatureContentUri: "@Url.Action("MapFeatureContent")",
        MapFeatureActionUri: "@Url.Action("MapFeatureAction")",
        ListAvailableFeaturesUri: "@Url.Action("ListAvailableFeatures", "Vehicle")",
        //MapMarketContentUri: "@Url.Action("MapMarketContent")",
        MapMarketActionUri: "@Url.Action("MapMarketAction")",
        ListAvailableMarketsUri: "@Url.Action("ListAvailableMarkets", "Market")",
        //AddDerivativeContentUri: "@Url.Action("AddDerivativeContent")",
        AddDerivativeActionUri: "@Url.Action("AddDerivativeAction")",
        //MapDerivativeContentUri: "@Url.Action("MapDerivativeContent")",
        MapDerivativeActionUri: "@Url.Action("MapDerivativeAction")",
        //AddTrimContentUri: "@Url.Action("AddTrimContent")",
        AddTrimActionUri: "@Url.Action("AddTrimAction")",
        //MapTrimContentUri: "@Url.Action("MapTrimContent")",
        MapTrimActionUri: "@Url.Action("MapTrimAction")",
        ListAvailableTrimUri: "@Url.Action("ListAvailableTrim", "Vehicle")",
        //IgnoreContentUri: "@Url.Action("ImportExceptionIgnoreContent")",
        IgnoreActionUri: "@Url.Action("ImportExceptionIgnoreAction")",
        ModalDialogId: "modal",
        ModalContentId: "modalBody",
        Configuration: {},
        PageSize: @Model.PageSize,
        PageIndex: @Model.PageIndex,
        ImportQueueId: @Model.CurrentImport.ImportQueueId.GetValueOrDefault(),
        ProgrammeId: @Model.Programme.Id,
        VehicleId: @Model.Programme.VehicleId,
        _lastParam: null // Prevent syntax error
    };

    params.Configuration = @Html.Raw(Json.Encode(Model.Configuration));
</script>
<script src="@Url.Content("~/Scripts/Import/exceptionsinit.js")?v=@currentVersion"></script>
